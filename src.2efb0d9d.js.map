{"version":3,"sources":["index.js"],"names":["DEBOUNCE_DELAY","counryList","document","querySelector","counryInfo","inputRef","addEventListener","onInput","name","ev","console","log","currentTarget","value","fetch","then","response","json","dir","length","innerHTML","listArray","map","el","nameOfficial","official","flag","flags","svg","push","markUpList","join","capital","population","languages","Object","values","markUpCard","catch","err","country"],"mappings":";;;AAyGC,aAzGD,QAAA,oBAEA,MAAMA,EAAiB,IAEjBC,EAAaC,SAASC,cAAc,iBACpCC,EAAaF,SAASC,cAAc,iBACpCE,EAAWH,SAASC,cAAc,eAExCE,EAASC,iBAAiB,QAASC,GAEnC,IAAIC,EAAO,GAEX,SAASD,EAAQE,GACbC,QAAQC,IAAIF,EAAGG,cAAcC,OAC7BL,EAAOC,EAAGG,cAAcC,MAKxBC,6CAH0DN,oDAIrDO,KAAKC,GAAYA,EAASC,QAC1BF,KAAKC,IAMEA,GAFJN,QAAQQ,IAAIF,GAEY,IAApBA,EAASG,OAATH,CAeAA,GAAAA,EAASG,OAAS,GAKlB,OAJAf,EAAWgB,UAAY,GACvBnB,EAAWmB,UAAY,QAEvBV,QAAQC,IAAI,cAIX,CACDP,EAAWgB,UAAY,GAEjBC,MAAAA,EAAY,GAElBL,EAASM,IAAIC,IACHC,MAAAA,EAAeD,EAAGf,KAAKiB,SACvBC,EAAOH,EAAGI,MAAMC,IAEtBP,EAAUQ,KAAKC,EAAWN,EAAcE,MAG5ChB,QAAQC,IAAIU,GACZpB,EAAWmB,UAAYC,EAAUU,KAAK,SApCtCf,CACAf,EAAWmB,UAAY,GAEvBV,QAAQC,IAAI,iBAENa,MAAAA,EAAeR,EAAS,GAAGR,KAAKiB,SAChCO,EAAUhB,EAAS,GAAGgB,QAAQ,GAC9BC,EAAajB,EAAS,GAAGiB,WACzBP,EAAOV,EAAS,GAAGW,MAAMC,IACzBM,EAAYC,OAAOC,OAAOpB,EAAS,GAAGkB,WAG5C9B,EAAWgB,UAAYiB,EAAWL,EAASC,EAAYC,EAAWR,EAAMF,MAoC7Ec,MAAMC,IAAS7B,QAAQC,IAAI4B,KAStC,SAAST,EAAWtB,EAAMkB,GACd,yEAC4BA,sDACxBlB,sBAIhB,SAAS6B,EAAWL,EAASC,EAAYC,EAAWR,EAAMc,GAC9C,iEAEQd,sDACNc,sEAGqBR,+CACGC,8CACDC,EAAUH,KAAK","file":"src.2efb0d9d.js","sourceRoot":"../src","sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst counryList = document.querySelector(\".country-list\")\nconst counryInfo = document.querySelector(\".country-info\")\nconst inputRef = document.querySelector(\"#search-box\")\n\ninputRef.addEventListener(\"input\", onInput)\n\nlet name = \"\"\n\nfunction onInput(ev) {\n    console.log(ev.currentTarget.value)\n    name = ev.currentTarget.value\n\n    const requestRef = `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n\n\n    fetch(requestRef)\n        .then(response => response.json())\n        .then(response => {\n\n\n\n            console.dir(response)\n\n            if (response.length === 1) {\n                counryList.innerHTML = ''\n\n                console.log(\"Малюєм картку\")\n\n                const nameOfficial = response[0].name.official\n                const capital = response[0].capital[0]\n                const population = response[0].population\n                const flag = response[0].flags.svg\n                const languages = Object.values(response[0].languages)\n\n                // markUpCard(capital, population, languages, flag, nameOfficial)\n                counryInfo.innerHTML = markUpCard(capital, population, languages, flag, nameOfficial)\n                return\n            }\n            if (response.length > 10) {\n                counryInfo.innerHTML = ''\n                counryList.innerHTML = ''\n\n                console.log(\"Шлем нафіг\")\n                return\n            }\n\n            else {\n                counryInfo.innerHTML = ''\n\n                const listArray = []\n\n                response.map(el => {\n                    const nameOfficial = el.name.official\n                    const flag = el.flags.svg\n                    // console.log(\"Імя\", nameOfficial, \"Прапор\", flag)\n                    listArray.push(markUpList(nameOfficial, flag))\n                })\n\n                console.log(listArray)\n                counryList.innerHTML = listArray.join('')\n\n            }\n\n\n\n\n\n\n            // console.log(\"Name;\", nameOfficial, \"Столиця\", capital, population, flag)\n\n\n        }).catch(err => { console.log(err) })\n\n}\n\n\n\n\n\n\nfunction markUpList(name, flag) {\n    return `<li class=\"coutry-item\">\n        <img class=\"counry-flag\" src=\"${flag}\" alt=\"Country flag\" width=\"40\" />\n        <span>${name}</span>\n    </li>`\n}\n\nfunction markUpCard(capital, population, languages, flag, country) {\n    return `\n          <div class=\"header-box\">\n        <img src=\"${flag}\" alt=\"Countre flag\" width=\"40px\" />\n        <h1>${country}</h1>\n      </div>\n      <ul>\n        <li><span>Capital:</span>${capital}</li>\n        <li><span>Population:</span>${population}</li>\n        <li><span>Languages:</span>${languages.join(', ')}</li>\n      </ul>\n    </div>\n    \n    `\n}"]}